import{d as M,i as B,B as E,T as I,o as v,c as k,h as S,f as i,e as u,u as T,U as J,t as L,l as N,V as O,v as A,x as R,W as P,_ as g,y as x,g as $,r as H,b as V,n as U,p as j,w as y,A as Y}from"./index-CbA3ynPi.js";import{V as C,o as q,s as b}from"./Data-DQ0-QUlS.js";import{P as F}from"./Page-BsKzXFNc.js";import{g as K}from"./globals-D0lvPSen.js";import{a as z}from"./ModulePage.vue_vue_type_script_setup_true_lang-CG8cvAHL.js";import{b as G}from"./byTypes-DiOuyN-I.js";import"./sec2str-DxvuS5O-.js";async function*W(t){for await(const a of t)yield*a}async function*Q(t,a){let s="";for await(const n of t)n===a?(yield s,s=""):s+=n;yield s}const X=(t,a)=>Q(W(t),a),Z=t=>X(t,`
`);async function*tt(t){for await(const a of t){const s=a.trim();s&&(yield s)}}const et=/^[| -]+$/;async function*st(t,a){const{leftBound:s,rightBound:n}=a;for await(const o of t){const e=o.trim();if(et.test(e))continue;const r=e.split("|").map(l=>l.trim());if(s&&r.shift()!=="")throw new SyntaxError("Inconsistent left bound");if(n&&r.pop()!=="")throw new SyntaxError("Inconsistent right bound");yield r}}class at{constructor(a,s){this.headers=a,this.rows=s}}async function ot(t){const a=tt(Z(t)),s=await a.next();if(s.done)throw new SyntaxError("Text is empty");const n=s.value.split("|").map(l=>l.trim()),o=n[0]==="",e=n[n.length-1]==="";o&&n.shift(),e&&n.pop();const r=st(a,{leftBound:o,rightBound:e});return new at(n,r)}const nt=t=>(A("data-v-d018623e"),t=t(),R(),t),rt={class:"info-banner"},it=nt(()=>i("div",null,[i("img",{src:P,alt:"info icon"})],-1)),ct=["href"],lt=M({__name:"CommunityTable",props:{fileName:{type:String,required:!0}},setup(t){const a=B(),s=t;return E(async()=>{const n=await mt(`../../community/tables/${s.fileName}.md`).then(r=>fetch(r.default)).then(r=>r.text()),o=await ot(n),e={};for(const r of o.headers)e[r]=[];for await(const r of o.rows)o.headers.forEach((l,d)=>{if(d==0)return;const _=r[d],f=parseInt(_);e[l].push(isNaN(f)?_:f)});a.value={Name:s.fileName,...e}}),(n,o)=>{const e=I("i18n-t");return a.value?(v(),k(C,{key:0,data:a.value},{default:S(()=>[i("div",rt,[it,u(e,{keypath:"COMMUNITY_CONTENT",tag:"p",for:"here"},{default:S(()=>[i("a",{href:`${T(J)}/tree/master/community/tables/${s.fileName}.md`,target:"_blank"},L(n.$t("HERE")),9,ct)]),_:1})])]),_:1},8,["data"])):N("v-if",!0)}}});function mt(t){switch(t){case"../../community/tables/artifacts":case"../../community/tables/artifacts.md":return O(()=>import("./artifacts-Dadz53Bi.js"),[]);default:return new Promise(function(a,s){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const pt=g(lt,[["__scopeId","data-v-d018623e"],["__file","/home/runner/work/HadesSpace/HadesSpace/src/components/CommunityTable.vue"]]),dt="/assets/portrait_DyingPlanet-B6_7HxyA.jpg",ut=t=>(A("data-v-ce5ba530"),t=t(),R(),t),_t={id:"Artifacts",class:"topic"},ft={href:"#Artifacts",class:"art-title"},ht={id:"ModulesByArtType"},Tt={class:"switch"},yt={class:"name"},St={class:"description"},Ct=["checked"],wt=ut(()=>i("label",{for:"compact-mode",class:"label"},null,-1)),bt={__name:"RedStar",setup(t){const a=x(),{t:s}=$(),{MinDarkRSLevel:n}=K,{RedStar:o}=b,{DarkRedStar:e}=b,r=["GhostSpawnSecs","Models","LowerPlanetsMinLevel","MaxPlanetBomberCoverage","MaxPlanetBomberCoverage","GhostSpawner","NumLowerPlanets","MedRiskMining","HighRiskMining"],l=o.AppearanceModels.length-1;r.forEach(c=>{delete o[c],delete e[c]}),s("TID_DARK_RED_STAR_LABEL"),e.TID="TID_DARK_RED_STAR_LABEL",e.TID_Description="TID_JOIN_DARK_RED_STAR_INFO","JumpCosts_T"in o&&(o.JumpShips={JumpCostTransport:[...o.JumpCosts_T],JumpCostMiner:[...o.JumpCosts_M],JumpCostBattleship:[...o.JumpCosts_B]},delete o.JumpCosts_T,delete o.JumpCosts_M,delete o.JumpCosts_B),"JumpCosts_T"in e&&(e.JumpShips={JumpCostTransport:[...e.JumpCosts_T],JumpCostMiner:[...e.JumpCosts_M],JumpCostBattleship:[...e.JumpCosts_B]},delete e.JumpCosts_T,delete e.JumpCosts_M,delete e.JumpCosts_B);const d={RedStar:{RedStar:o},DarkRedStar:q(e,{map:([c,m])=>[c,Array.isArray(m)?m.slice(n):m]})},_=Object.fromEntries(G.artifact.map(c=>[c,f(z(c))]));function f(c){const m=[];for(let p=0;p<l;p++){const w=Object.values(c).map(h=>{if(h.RSLevel==p+1)return h}).filter(h=>h!=null);m.push(w.length?w:null)}return m}function D(){a.commit(Y.SWITCH_COMPACT_MODULES_BY_ART_TYPE_TABLE)}return(c,m)=>{const p=H("t");return v(),V("div",null,[u(F,{"title-loc-key":"TID_RED_STAR","content-args":{data:d.RedStar,iconDir:"game/Stars",tableOpts:{colLvlStartAt:0}},portrait:{src:T(dt),alt:"RedStar"}},null,8,["content-args","portrait"]),u(C,U(j({data:d.DarkRedStar,iconDir:"game/Stars",tableOpts:{colLvlStartAt:T(n)}})),null,16),i("h1",_t,[y(i("a",ft,null,512),[[p,"TID_OBJECT_ACTION_ARTIFACTS"]])]),u(pt,{"file-name":"artifacts"}),i("div",ht,[u(C,{data:{TID:"MODULES_BY_ARTIFACT_TYPE",Name:"ModulesByArtType",...T(_)}},{default:S(()=>[i("div",Tt,[i("div",null,[y(i("p",yt,null,512),[[p,"COMPACT_MODE"]]),y(i("p",St,null,512),[[p,"COMPACT_MODE_NOTE"]])]),i("input",{id:"compact-mode",class:"checkbox",type:"checkbox",checked:c.$store.state.userSettings.compactModulesByArtTypeTable,onChange:D},null,40,Ct),wt])]),_:1},8,["data"])])])}}},Et=g(bt,[["__scopeId","data-v-ce5ba530"],["__file","/home/runner/work/HadesSpace/HadesSpace/src/pages/RedStar.vue"]]);export{Et as default};
