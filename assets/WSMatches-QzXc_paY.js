import{d as V,aO as W,aP as F,a as E,o as r,b as u,f as e,F as M,E as T,D as q,t as _,_ as N,i as y,r as D,w as $,O as b,e as P,h as Q,l as C,aD as z,aQ as O,Q as G,aI as J,v as B,x as j,C as A,B as Y,u as w,P as L}from"./index-DIzaQzHG.js";import{a as K,s as X}from"./sec2str-mErX65ng.js";const Z={class:"pagination"},ee=["onClick"],U=2,se=V({__name:"Pagination",props:W({maxPage:{type:Number,required:!0}},{modelValue:{type:Number,default:1,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const d=c,o=F(c,"modelValue",{set(s){return s<1&&(s=1),s>d.maxPage&&(s=d.maxPage),s}}),p=E(()=>{let s=Math.max(o.value-U,1),a=Math.min(o.value+U,d.maxPage);return a-s+1<5&&(s===1?a=Math.min(d.maxPage,s+4):a===d.maxPage&&(s=Math.max(1,a-4))),Array.from({length:a-s+1},(v,m)=>s+m)});return(s,a)=>(r(),u("ul",Z,[e("li",{class:"arrow prev",onClick:a[0]||(a[0]=v=>o.value=o.value-1)}),(r(!0),u(M,null,T(p.value,v=>(r(),u("li",{key:v,class:q({selected:v===s.$props.modelValue}),onClick:m=>o.value=v},_(v),11,ee))),128)),e("li",{class:"arrow next",onClick:a[1]||(a[1]=v=>o.value=o.value+1)})]))}}),H=N(se,[["__scopeId","data-v-039dc986"],["__file","/home/runner/work/HadesSpace/HadesSpace/src/components/Pagination.vue"]]),te=c=>(B("data-v-9276fa38"),c=c(),j(),c),ae={class:"label"},le={key:0},oe={key:1},ne=te(()=>e("div",{class:"arrow"},null,-1)),ie={key:0,class:"multiselect_list"},re=["onClick"],ue=["checked"],ce={class:"label"},de=V({__name:"MultiSelect",props:W({options:{type:Array,required:!0},displayField:{type:String,required:!0}},{modelValue:{type:Array,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const d=c,o=F(c,"modelValue"),p=y(!1),s=y(),a=y(),v=E(()=>d.options.filter(n=>{var t,i;return(i=n[d.displayField])==null?void 0:i.toLowerCase().includes((t=a.value)==null?void 0:t.toLowerCase())}));function m(){var n;p.value=!p.value,p.value&&(a.value="",(n=s.value)==null||n.focus())}function h(n){o.value.includes(n)?o.value.splice(o.value.indexOf(n),1):o.value.push(n)}function k(){o.value=[]}return(n,t)=>{const i=D("t"),g=D("click-outside");return $((r(),u("div",{class:q(["multiselect",{__active:p.value}])},[b(n.$slots,"default",{selected:o.value,toggleDropdown:m},()=>[e("button",{class:"multiselect_btn",onClick:m},[$(e("input",{ref_key:"filterInput",ref:s,"onUpdate:modelValue":t[0]||(t[0]=f=>a.value=f),type:"text",onClick:t[1]||(t[1]=O(()=>{},["stop"]))},null,512),[[G,a.value]]),$(e("div",ae,[b(n.$slots,"label",{},()=>[o.value.length?(r(),u("p",le,_(n.$t("SELECTED",[o.value.length])),1)):$((r(),u("p",oe,null,512)),[[i,"SELECT"]])],!0)],512),[[J,!p.value]]),p.value?C("v-if",!0):(r(),u("div",{key:0,class:"clear",onClick:O(k,["stop"])})),ne])],!0),P(z,{name:"list"},{default:Q(()=>[p.value?(r(),u("ul",ie,[(r(!0),u(M,null,T(v.value,(f,S)=>(r(),u("li",{key:S,onClick:l=>h(f)},[e("input",{type:"checkbox",checked:n.$props.modelValue.includes(f)},null,8,ue),e("span",ce,_(f[n.$props.displayField]),1)],8,re))),128))])):C("v-if",!0)]),_:1})],2)),[[g,()=>p.value=!1]])}}}),pe=N(de,[["__scopeId","data-v-9276fa38"],["__file","/home/runner/work/HadesSpace/HadesSpace/src/components/MultiSelect.vue"]]),x=c=>(B("data-v-f91c2bc1"),c=c(),j(),c),me={class:"filters"},_e={class:"label"},ve={class:"list"},fe={class:"corp-names"},he=x(()=>e("span",{class:"vs-icon"},null,-1)),ge={class:"score"},ye={class:"corp-info"},Se=x(()=>e("span",null," - ",-1)),we={class:"corp-info"},$e={key:0},ke={key:1},Pe=x(()=>e("div",{class:"footer"},[e("div",{class:"content"},[e("p",null,[L("Powered by "),e("a",{href:"https://ws.mentalisit.myds.me",target:"_blank"},"ws.mentalisit.myds.me"),L(" API ")])])],-1)),R="https://ws.mentalisit.myds.me/",Ce=V({__name:"WSMatches",setup(c){const d=new URL("matches",R),o=new URL("corps",R),p=new Date,s=y(),a=y([]),v=E(()=>{var t;return(((t=s.value)==null?void 0:t.matches)||[]).map(i=>({...i,DateEnded:new Date(i.DateEnded)}))}),m=y(1),h=y([]);d.searchParams.set("limit","50"),A(m,()=>{window.scrollTo({top:0,behavior:"smooth"}),d.searchParams.set("page",m.value.toString()),k()},{immediate:!0}),A(h,()=>{h.value.length==0?d.searchParams.delete("filter"):d.searchParams.set("filter",JSON.stringify({corp:h.value})),m.value=1,k()},{deep:!0}),Y(async()=>{a.value=await fetch(o).then(t=>t.json()).then(t=>t.matches)});async function k(){s.value=await fetch(d).then(t=>t.json())}function n(t){const i=a.value.find(g=>g.Id==t);if(i){const[g,f,S,l]=Object.entries(i).filter(([I])=>!["Name","Id"].includes(I)).map(([,I])=>I);return`[W:${g}/L:${f}/D:${S}/E:${l}]`}}return(t,i)=>{var f,S;const g=D("t");return r(),u("div",null,[e("div",me,[e("div",null,[$(e("p",_e,null,512),[[g,"TID_OTHER_PLAYER_INFO_PAGE_CORP_SECTION"]]),P(pe,{modelValue:h.value,"onUpdate:modelValue":i[0]||(i[0]=l=>h.value=l),options:a.value,"display-field":"Name"},null,8,["modelValue","options"])])]),P(H,{modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=l=>m.value=l),"max-page":((f=s.value)==null?void 0:f.MaxPage)||1},null,8,["modelValue","max-page"]),e("ul",ve,[(r(!0),u(M,null,T(v.value,l=>(r(),u("li",{key:l.MatchId},[e("div",null,[e("p",fe,[e("span",null,_(l.Corporation1Name),1),he,e("span",null,_(l.Corporation2Name),1)]),e("p",ge,[e("span",ye,_(n(l.Corporation1Id)),1),e("span",null,_(l.Corporation1Score),1),Se,e("span",null,_(l.Corporation2Score),1),e("span",we,_(n(l.Corporation2Id)),1)]),l.DateEnded-w(p)>0?(r(),u("p",$e,[C("suppress TypeScriptValidateTypes "),e("span",null,_(t.$t("TID_WS_PREPARATION_ENDS_IN",[w(K)((l.DateEnded-w(p))/1e3)])),1)])):(r(),u("p",ke,[C("suppress TypeScriptValidateTypes "),e("span",null,_(t.$t("TID_WS_ENDED"))+" "+_(`(${t.$t("TID_SOCIAL_TIMESTAMP",[w(X)((w(p)-l.DateEnded)/1e3)])})`),1)]))])]))),128))]),P(H,{modelValue:m.value,"onUpdate:modelValue":i[2]||(i[2]=l=>m.value=l),"max-page":((S=s.value)==null?void 0:S.MaxPage)||1},null,8,["modelValue","max-page"]),Pe])}}}),Ve=N(Ce,[["__scopeId","data-v-f91c2bc1"],["__file","/home/runner/work/HadesSpace/HadesSpace/src/pages/WSMatches.vue"]]);export{Ve as default};
